% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/encode.R
\name{cbc_encode}
\alias{cbc_encode}
\title{Encode categorical variables in a CBC design}
\usage{
cbc_encode(data, coding = NULL, refs = NULL)
}
\arguments{
\item{data}{A \code{cbc_design} or \code{cbc_choices} object}

\item{coding}{Character. Type of encoding: "standard", "dummy", or "effects".
If NULL (default), automatically toggles: standard → dummy, dummy/effects → standard.}

\item{refs}{Named list specifying reference levels for categorical variables.
For example: \code{list(powertrain = "Gasoline", brand = "A")}. If NULL (default),
uses the first level of each categorical variable as reference.}
}
\value{
The input object with specified encoding applied
}
\description{
This function converts categorical variables between different coding schemes.
Standard coding keeps categorical variables as-is (factor or character).
Dummy coding uses a reference category (all zeros) with indicator variables
for other levels. Effects coding uses -1 for the reference category to ensure
coefficients sum to zero.
}
\examples{
library(cbcTools)

# Create profiles with categorical variables
profiles <- cbc_profiles(
  price = c(10, 20, 30),
  quality = c("Low", "Medium", "High"),
  brand = c("A", "B")
)

# Create design (defaults to standard coding)
design <- cbc_design(
  profiles = profiles,
  n_alts = 2,
  n_q = 4
)

# Auto-toggle: standard → dummy
design_dummy <- cbc_encode(design)
head(design_dummy)

# Auto-toggle: dummy → standard
design_standard <- cbc_encode(design_dummy)
head(design_standard)

# Explicit coding
design_effects <- cbc_encode(design, "effects")
head(design_effects)

# Custom reference levels
design_dummy2 <- cbc_encode(
  design,
  "dummy",
  refs = list(quality = "Medium", brand = "B")
)
head(design_dummy2)
}
