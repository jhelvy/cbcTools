<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generating Profiles • cbcTools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generating Profiles">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cbcTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/profiles.html">Generating Profiles</a></li>
    <li><a class="dropdown-item" href="../articles/priors.html">Specifying Priors</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Generating Designs</a></li>
    <li><a class="dropdown-item" href="../articles/d_error.html">Computing D-Error</a></li>
    <li><a class="dropdown-item" href="../articles/choices.html">Simulating Choices</a></li>
    <li><a class="dropdown-item" href="../articles/power.html">Power Analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jhelvy/cbcTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generating Profiles</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jhelvy/cbcTools/blob/main/vignettes/profiles.Rmd" class="external-link"><code>vignettes/profiles.Rmd</code></a></small>
      <div class="d-none name"><code>profiles.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="generating-all-possible-profiles">Generating all possible profiles<a class="anchor" aria-label="anchor" href="#generating-all-possible-profiles"></a>
</h2>
<p>The first step in designing an experiment is to define the attributes
and levels for your experiment and then generate all of the
<code>profiles</code> of each possible combination of those attributes
and levels.</p>
<p>For example, let’s say you’re designing a conjoint experiment about
apples and you want to include <code>price</code>, <code>type</code>,
and <code>freshness</code> as attributes. You can obtain all of the
possible profiles for these attributes using the
<code><a href="../reference/cbc_profiles.html">cbc_profiles()</a></code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jhelvy/cbcTools" class="external-link">cbcTools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">profiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_profiles.html">cbc_profiles</a></span><span class="op">(</span></span>
<span>  price     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="co"># $ per pound</span></span>
<span>  type      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Fuji'</span>, <span class="st">'Gala'</span>, <span class="st">'Honeycrisp'</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Poor'</span>, <span class="st">'Average'</span>, <span class="st">'Excellent'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">profiles</span></span>
<span><span class="co">#&gt; CBC Profiles</span></span>
<span><span class="co">#&gt; ============</span></span>
<span><span class="co">#&gt; price       : Continuous (9 levels, range: 1.00-5.00)</span></span>
<span><span class="co">#&gt; type        : Categorical (3 levels: Fuji, Gala, Honeycrisp)</span></span>
<span><span class="co">#&gt; freshness   : Categorical (3 levels: Poor, Average, Excellent)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Profiles: 81</span></span>
<span><span class="co">#&gt; First few rows:</span></span>
<span><span class="co">#&gt;   profileID price type freshness</span></span>
<span><span class="co">#&gt; 1         1   1.0 Fuji      Poor</span></span>
<span><span class="co">#&gt; 2         2   1.5 Fuji      Poor</span></span>
<span><span class="co">#&gt; 3         3   2.0 Fuji      Poor</span></span>
<span><span class="co">#&gt; 4         4   2.5 Fuji      Poor</span></span>
<span><span class="co">#&gt; 5         5   3.0 Fuji      Poor</span></span>
<span><span class="co">#&gt; 6         6   3.5 Fuji      Poor</span></span>
<span><span class="co">#&gt; ... and 75 more rows</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="restricted-profiles">Restricted profiles<a class="anchor" aria-label="anchor" href="#restricted-profiles"></a>
</h2>
<p>Depending on the context of your survey, you may wish to eliminate
some profiles before designing your conjoint survey (e.g., some profile
combinations may be illogical or unrealistic).</p>
<blockquote>
<p><strong>CAUTION: including restrictions in your designs can
substantially reduce the statistical power of your design, so use them
cautiously and avoid them if possible</strong>.</p>
</blockquote>
<p>If you do wish to restrict some attribute level combinations, you can
do so using the <code><a href="../reference/cbc_restrict.html">cbc_restrict()</a></code> function, which takes the
full set of <code>profiles</code> along with any number of restricted
pairs of attribute levels, defined as pairs of logical expressions
separated by commas. The example below includes the following
restrictions (these are arbitrary and just for illustration
purposes):</p>
<ul>
<li>
<code>"Gala"</code> apples will not be shown with the prices
<code>1.5</code>, <code>2.5</code>, and <code>3.5</code>.</li>
<li>
<code>"Honeycrisp"</code> apples will not be shown with prices less
than <code>2</code>.</li>
<li>
<code>"Fuji"</code> apples will not be shown with the
<code>"Excellent"</code> freshness.</li>
</ul>
<p>With these restrictions, there are now only 57 profiles compared to
81 without them:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">restricted_profiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_restrict.html">cbc_restrict</a></span><span class="op">(</span></span>
<span>    <span class="va">profiles</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="st">"Gala"</span> <span class="op">&amp;</span> <span class="va">price</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span><span class="op">)</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="st">"Honeycrisp"</span> <span class="op">&amp;</span> <span class="va">price</span> <span class="op">&lt;</span> <span class="fl">2</span>,</span>
<span>    <span class="va">type</span> <span class="op">==</span> <span class="st">"Fuji"</span> <span class="op">&amp;</span> <span class="va">freshness</span> <span class="op">==</span> <span class="st">"Excellent"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">restricted_profiles</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 57  4</span></span></code></pre></div>
<p>Once you have your profiles, you can use them to generate an
experiment design with <code><a href="../reference/cbc_design.html">cbc_design()</a></code>. See the <a href="design.html">Generating Designs</a> article for more details.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Helveston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
