<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Specifying Priors • cbcTools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specifying Priors">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cbcTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/profiles.html">Generating Profiles</a></li>
    <li><a class="dropdown-item" href="../articles/priors.html">Specifying Priors</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Generating Designs</a></li>
    <li><a class="dropdown-item" href="../articles/d_error.html">Computing D-Error</a></li>
    <li><a class="dropdown-item" href="../articles/choices.html">Simulating Choices</a></li>
    <li><a class="dropdown-item" href="../articles/power.html">Power Analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jhelvy/cbcTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Specifying Priors</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jhelvy/cbcTools/blob/main/vignettes/priors.Rmd" class="external-link"><code>vignettes/priors.Rmd</code></a></small>
      <div class="d-none name"><code>priors.Rmd</code></div>
    </div>

    
    
<p>Prior specifications define your assumptions about respondent
preferences before collecting data. These priors serve two key purposes
in <strong>cbcTools</strong>: optimizing experimental designs (for
D-optimal methods) and simulating choices. This article shows how to
create and work with prior specifications using
<code><a href="../reference/cbc_priors.html">cbc_priors()</a></code>.</p>
<div class="section level2">
<h2 id="what-are-priors">What Are Priors?<a class="anchor" aria-label="anchor" href="#what-are-priors"></a>
</h2>
<p>Priors represent your beliefs about how attributes influence
respondent choices before collecting data. They specify:</p>
<ul>
<li>
<strong>Direction of effects</strong>: Positive values increase
utility, negative values decrease it.</li>
<li>
<strong>Magnitude of effects</strong>: Larger absolute values
indicate stronger preferences.</li>
<li>
<strong>Heterogeneity in effects</strong>: Random parameters can be
used to specify heterogeneity in preferences across the population.</li>
</ul>
<div class="section level3">
<h3 id="sources-of-prior-information">Sources of Prior Information<a class="anchor" aria-label="anchor" href="#sources-of-prior-information"></a>
</h3>
<ul>
<li>
<strong>Literature review</strong>: Published studies in similar
contexts.</li>
<li>
<strong>Expert judgment</strong>: Domain knowledge from researchers
or practitioners.</li>
<li>
<strong>Pilot studies</strong>: Small preliminary studies to
estimate effects.</li>
<li>
<strong>Previous studies</strong>: Your own past research in related
areas.</li>
<li>
<strong>Theoretical expectations</strong>: Economic theory or
behavioral assumptions.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="basic-prior-specification">Basic Prior Specification<a class="anchor" aria-label="anchor" href="#basic-prior-specification"></a>
</h2>
<p>For the purposes of this article, we’ll keep working with the same
set of profiles about apples:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jhelvy/cbcTools" class="external-link">cbcTools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">profiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_profiles.html">cbc_profiles</a></span><span class="op">(</span></span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">2.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Fuji'</span>, <span class="st">'Gala'</span>, <span class="st">'Honeycrisp'</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Poor'</span>, <span class="st">'Average'</span>, <span class="st">'Excellent'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">profiles</span></span>
<span><span class="co">#&gt; CBC Profiles</span></span>
<span><span class="co">#&gt; ============</span></span>
<span><span class="co">#&gt; price       : Continuous (5 levels, range: 1.00-3.00)</span></span>
<span><span class="co">#&gt; type        : Categorical (3 levels: Fuji, Gala, Honeycrisp)</span></span>
<span><span class="co">#&gt; freshness   : Categorical (3 levels: Poor, Average, Excellent)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Profiles: 45</span></span>
<span><span class="co">#&gt; First few rows:</span></span>
<span><span class="co">#&gt;   profileID price type freshness</span></span>
<span><span class="co">#&gt; 1         1   1.0 Fuji      Poor</span></span>
<span><span class="co">#&gt; 2         2   1.5 Fuji      Poor</span></span>
<span><span class="co">#&gt; 3         3   2.0 Fuji      Poor</span></span>
<span><span class="co">#&gt; 4         4   2.5 Fuji      Poor</span></span>
<span><span class="co">#&gt; 5         5   3.0 Fuji      Poor</span></span>
<span><span class="co">#&gt; 6         6   1.0 Gala      Poor</span></span>
<span><span class="co">#&gt; ... and 39 more rows</span></span></code></pre></div>
<div class="section level3">
<h3 id="fixed-parameters">Fixed Parameters<a class="anchor" aria-label="anchor" href="#fixed-parameters"></a>
</h3>
<p>Fixed parameters assume you know the exact coefficient values. Start
with the simplest case:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic fixed priors</span></span>
<span><span class="va">priors_fixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>, <span class="co"># Negative = prefer lower prices</span></span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>, <span class="co"># Preferences relative to reference level</span></span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1.2</span><span class="op">)</span> <span class="co"># Preferences relative to reference level</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">priors_fixed</span></span>
<span><span class="co">#&gt; CBC Prior Specifications:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; price:</span></span>
<span><span class="co">#&gt;   Continuous variable</span></span>
<span><span class="co">#&gt;   Levels: 1, 1.5, 2, 2.5, 3 </span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Coefficient: -0.25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; type:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Fuji, Gala, Honeycrisp </span></span>
<span><span class="co">#&gt;   Reference level: Fuji</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Gala: 0.5</span></span>
<span><span class="co">#&gt;     Honeycrisp: 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; freshness:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Poor, Average, Excellent </span></span>
<span><span class="co">#&gt;   Reference level: Poor</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Average: 0.6</span></span>
<span><span class="co">#&gt;     Excellent: 1.2</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-categorical-variables">Understanding Categorical Variables<a class="anchor" aria-label="anchor" href="#understanding-categorical-variables"></a>
</h4>
<p>For categorical attributes, <strong>the reference level is set by the
first level defined in <code><a href="../reference/cbc_profiles.html">cbc_profiles()</a></code></strong>, which in
this case is <code>"Fuji"</code> for <strong>Type</strong> and
<code>"Poor"</code> for <strong>Freshness</strong>. This would imply the
following for the above set of priors:</p>
<p><strong>Type</strong>:</p>
<ul>
<li>
<strong>Fuji</strong>: coefficient = 0 (Reference level)</li>
<li>
<strong>Gala</strong>: coefficient = 0.5 (preferred over Fuji)</li>
<li>
<strong>Honeycrisp</strong>: coefficient = 1.0 (most preferred)</li>
</ul>
<p><strong>Freshness</strong>:</p>
<ul>
<li>
<strong>Poor</strong>: coefficient = 0 (Reference level)</li>
<li>
<strong>Average</strong>: coefficient = 0.6</li>
<li>
<strong>Excellent</strong>: coefficient = 1.2</li>
</ul>
</div>
<div class="section level4">
<h4 id="using-named-specifications">Using Named Specifications<a class="anchor" aria-label="anchor" href="#using-named-specifications"></a>
</h4>
<p>You can specify the levels for categorical priors using names:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">priors_named</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Gala"</span> <span class="op">=</span> <span class="fl">0.5</span>, <span class="st">"Honeycrisp"</span> <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Average"</span> <span class="op">=</span> <span class="fl">0.6</span>, <span class="st">"Excellent"</span> <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This produces the same set of priors as the <code>priors_fixed</code>
example above:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">priors_fixed</span><span class="op">$</span><span class="va">pars</span>, <span class="va">priors_named</span><span class="op">$</span><span class="va">pars</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="random-parameters">Random Parameters<a class="anchor" aria-label="anchor" href="#random-parameters"></a>
</h3>
<p>Random parameters allow for preference heterogeneity across
respondents. Use <code><a href="../reference/rand_spec.html">rand_spec()</a></code> to define random parameters.
In the example below, we use <code>"n"</code> to specify normal
distributions for the <code>price</code> and <code>freshness</code>
attributes. Note that for <code>freshness</code> the <code>mean</code>
and <code>sd</code> are vectors since it is a categorical attribute with
three levels (the first level is the reference level):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">priors_random</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span></span>
<span>    dist <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>    mean <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>    sd <span class="op">=</span> <span class="fl">0.1</span></span>
<span>  <span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span></span>
<span>    dist <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>    mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">priors_random</span></span>
<span><span class="co">#&gt; CBC Prior Specifications:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; price:</span></span>
<span><span class="co">#&gt;   Continuous variable</span></span>
<span><span class="co">#&gt;   Levels: 1, 1.5, 2, 2.5, 3 </span></span>
<span><span class="co">#&gt;   Random - Normal distribution</span></span>
<span><span class="co">#&gt;     Mean: -0.25</span></span>
<span><span class="co">#&gt;     SD:   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; type:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Fuji, Gala, Honeycrisp </span></span>
<span><span class="co">#&gt;   Reference level: Fuji</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Gala: 0.5</span></span>
<span><span class="co">#&gt;     Honeycrisp: 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; freshness:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Poor, Average, Excellent </span></span>
<span><span class="co">#&gt;   Reference level: Poor</span></span>
<span><span class="co">#&gt;   Random - Normal distribution</span></span>
<span><span class="co">#&gt;     Average:</span></span>
<span><span class="co">#&gt;       Mean: 0.6</span></span>
<span><span class="co">#&gt;       SD:   0.1</span></span>
<span><span class="co">#&gt;     Excellent:</span></span>
<span><span class="co">#&gt;       Mean: 1.2</span></span>
<span><span class="co">#&gt;       SD:   0.1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Correlation Matrix:</span></span>
<span><span class="co">#&gt;                    price freshnessAverage freshnessExcellent</span></span>
<span><span class="co">#&gt; price                  1                0                  0</span></span>
<span><span class="co">#&gt; freshnessAverage       0                1                  0</span></span>
<span><span class="co">#&gt; freshnessExcellent     0                0                  1</span></span></code></pre></div>
<p>Three distributions are supported:</p>
<ul>
<li>
<code>"n"</code>: normal</li>
<li>
<code>"ln"</code>: log-normal (forces positivity)</li>
<li>
<code>"cn"</code>: censored normal (forces positivity)</li>
</ul>
</div>
<div class="section level3">
<h3 id="parameter-correlations">Parameter Correlations<a class="anchor" aria-label="anchor" href="#parameter-correlations"></a>
</h3>
<p>Model correlations between random parameters can be included using
<code><a href="../reference/cor_spec.html">cor_spec()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">priors_correlated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span></span>
<span>    dist <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>    mean <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,</span>
<span>    sd <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>    correlations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/cor_spec.html">cor_spec</a></span><span class="op">(</span></span>
<span>        with <span class="op">=</span> <span class="st">"type"</span>,</span>
<span>        with_level <span class="op">=</span> <span class="st">"Honeycrisp"</span>,</span>
<span>        value <span class="op">=</span> <span class="fl">0.3</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span></span>
<span>    dist <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>    mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Gala"</span> <span class="op">=</span> <span class="fl">0.1</span>, <span class="st">"Honeycrisp"</span> <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Gala"</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="st">"Honeycrisp"</span> <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the correlation matrix</span></span>
<span><span class="va">priors_correlated</span><span class="op">$</span><span class="va">correlation</span></span>
<span><span class="co">#&gt;                price typeGala typeHoneycrisp</span></span>
<span><span class="co">#&gt; price            1.0        0            0.3</span></span>
<span><span class="co">#&gt; typeGala         0.0        1            0.0</span></span>
<span><span class="co">#&gt; typeHoneycrisp   0.3        0            1.0</span></span></code></pre></div>
<div class="section level4">
<h4 id="types-of-correlations">Types of Correlations<a class="anchor" aria-label="anchor" href="#types-of-correlations"></a>
</h4>
<p>General correlation between all levels of two attributes:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cor_spec.html">cor_spec</a></span><span class="op">(</span></span>
<span>  with <span class="op">=</span> <span class="st">"type"</span>,</span>
<span>  value <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Correlation with a specific level of a categorical attribute:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cor_spec.html">cor_spec</a></span><span class="op">(</span></span>
<span>  with <span class="op">=</span> <span class="st">"type"</span>,</span>
<span>  with_level <span class="op">=</span> <span class="st">"Honeycrisp"</span>,</span>
<span>  value <span class="op">=</span> <span class="fl">0.3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Correlation from a specific level to another specific level:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cor_spec.html">cor_spec</a></span><span class="op">(</span></span>
<span>  with <span class="op">=</span> <span class="st">"freshness"</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"Gala"</span>,</span>
<span>  with_level <span class="op">=</span> <span class="st">"Excellent"</span>,</span>
<span>  value <span class="op">=</span> <span class="fl">0.4</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="interaction-effects">Interaction Effects<a class="anchor" aria-label="anchor" href="#interaction-effects"></a>
</h3>
<p>You can include interaction terms in your priors using
<code><a href="../reference/int_spec.html">int_spec()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create priors with interaction effects</span></span>
<span><span class="va">priors_interactions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fuji"</span> <span class="op">=</span> <span class="fl">0.5</span>, <span class="st">"Honeycrisp"</span> <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Average"</span> <span class="op">=</span> <span class="fl">0.6</span>, <span class="st">"Excellent"</span> <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>  interactions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Price sensitivity varies by apple type</span></span>
<span>    <span class="fu"><a href="../reference/int_spec.html">int_spec</a></span><span class="op">(</span></span>
<span>      between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"price"</span>, <span class="st">"type"</span><span class="op">)</span>,</span>
<span>      with_level <span class="op">=</span> <span class="st">"Fuji"</span>,</span>
<span>      value <span class="op">=</span> <span class="fl">0.1</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/int_spec.html">int_spec</a></span><span class="op">(</span></span>
<span>      between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"price"</span>, <span class="st">"type"</span><span class="op">)</span>,</span>
<span>      with_level <span class="op">=</span> <span class="st">"Honeycrisp"</span>,</span>
<span>      value <span class="op">=</span> <span class="fl">0.2</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="co"># Type preferences vary by freshness</span></span>
<span>    <span class="fu"><a href="../reference/int_spec.html">int_spec</a></span><span class="op">(</span></span>
<span>      between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"type"</span>, <span class="st">"freshness"</span><span class="op">)</span>,</span>
<span>      level <span class="op">=</span> <span class="st">"Honeycrisp"</span>,</span>
<span>      with_level <span class="op">=</span> <span class="st">"Excellent"</span>,</span>
<span>      value <span class="op">=</span> <span class="fl">0.3</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">priors_interactions</span></span>
<span><span class="co">#&gt; CBC Prior Specifications:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; price:</span></span>
<span><span class="co">#&gt;   Continuous variable</span></span>
<span><span class="co">#&gt;   Levels: 1, 1.5, 2, 2.5, 3 </span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Coefficient: -0.25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; type:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Fuji, Gala, Honeycrisp </span></span>
<span><span class="co">#&gt;   Reference level: Gala</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Fuji: 0.5</span></span>
<span><span class="co">#&gt;     Honeycrisp: 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; freshness:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Poor, Average, Excellent </span></span>
<span><span class="co">#&gt;   Reference level: Poor</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Average: 0.6</span></span>
<span><span class="co">#&gt;     Excellent: 1.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Interactions:</span></span>
<span><span class="co">#&gt;   price × type[Fuji]: 0.1</span></span>
<span><span class="co">#&gt;   price × type[Honeycrisp]: 0.2</span></span>
<span><span class="co">#&gt;   type[Honeycrisp] × freshness[Excellent]: 0.3</span></span></code></pre></div>
<div class="section level4">
<h4 id="interaction-types">Interaction Types<a class="anchor" aria-label="anchor" href="#interaction-types"></a>
</h4>
<p>Continuous × Categorical: Must specify categorical level</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/int_spec.html">int_spec</a></span><span class="op">(</span></span>
<span>  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"price"</span>, <span class="st">"type"</span><span class="op">)</span>,</span>
<span>  with_level <span class="op">=</span> <span class="st">"Fuji"</span>,</span>
<span>  value <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Categorical × Categorical: Must specify both levels:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/int_spec.html">int_spec</a></span><span class="op">(</span></span>
<span>  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"type"</span>, <span class="st">"freshness"</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"Gala"</span>,</span>
<span>  with_level <span class="op">=</span> <span class="st">"Excellent"</span>,</span>
<span>  value <span class="op">=</span> <span class="fl">0.1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Continuous × Continuous: No level specification needed:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/int_spec.html">int_spec</a></span><span class="op">(</span></span>
<span>  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"price"</span>, <span class="st">"weight"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fl">0.02</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="no-choice-priors">No-Choice Priors<a class="anchor" aria-label="anchor" href="#no-choice-priors"></a>
</h3>
<p>For designs with no-choice options, specify the no-choice utility
with the <code>no_choice</code> argument:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fixed no-choice prior</span></span>
<span><span class="va">priors_nochoice_fixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>  no_choice <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span> <span class="co"># Negative values make no-choice less attractive</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Random no-choice prior</span></span>
<span><span class="va">priors_nochoice_random</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>  no_choice <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span>dist <span class="op">=</span> <span class="st">"n"</span>, mean <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span>, sd <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">priors_nochoice_fixed</span></span>
<span><span class="co">#&gt; CBC Prior Specifications:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; price:</span></span>
<span><span class="co">#&gt;   Continuous variable</span></span>
<span><span class="co">#&gt;   Levels: 1, 1.5, 2, 2.5, 3 </span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Coefficient: -0.25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; type:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Fuji, Gala, Honeycrisp </span></span>
<span><span class="co">#&gt;   Reference level: Fuji</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Gala: 0.5</span></span>
<span><span class="co">#&gt;     Honeycrisp: 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; freshness:</span></span>
<span><span class="co">#&gt;   Categorical variable</span></span>
<span><span class="co">#&gt;   Levels: Poor, Average, Excellent </span></span>
<span><span class="co">#&gt;   Reference level: Poor</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Average: 0.6</span></span>
<span><span class="co">#&gt;     Excellent: 1.2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; no_choice:</span></span>
<span><span class="co">#&gt;   Continuous variable</span></span>
<span><span class="co">#&gt;   Fixed parameter</span></span>
<span><span class="co">#&gt;     Coefficient: -0.5</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="parameter-draws-for-bayesian-analysis">Parameter Draws for Bayesian Analysis<a class="anchor" aria-label="anchor" href="#parameter-draws-for-bayesian-analysis"></a>
</h2>
<p>When you specify random parameters, <code><a href="../reference/cbc_priors.html">cbc_priors()</a></code>
automatically generates parameter draws for Bayesian D-error
calculation. You can conrol both the draw type with the
<code>draw_type</code> argument (<code>"halton"</code> or
<code>"sobol"</code>) and the number of draws with the
<code>n_draws</code> argument, e.g.:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">priors_bayesian</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span>
<span>  price <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span></span>
<span>    dist <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>    mean <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>    sd <span class="op">=</span> <span class="fl">0.1</span></span>
<span>  <span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="../reference/rand_spec.html">rand_spec</a></span><span class="op">(</span></span>
<span>    dist <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>    mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>  n_draws <span class="op">=</span> <span class="fl">500</span>, <span class="co"># Default = 100</span></span>
<span>  draw_type <span class="op">=</span> <span class="st">"sobol"</span> <span class="co"># Default = "halton"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect the parameter draws</span></span>
<span><span class="va">price_draws</span> <span class="op">&lt;-</span> <span class="va">priors_bayesian</span><span class="op">$</span><span class="va">par_draws</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Parameter draws dimensions:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">priors_bayesian</span><span class="op">$</span><span class="va">par_draws</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Parameter draws dimensions: 500 5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Mean of price draws:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">price_draws</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mean of price draws: -0.2496651</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"SD of price draws:"</span>, <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">price_draws</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; SD of price draws: 0.09856398</span></span>
<span></span>
<span><span class="co"># Plot distribution of one parameter</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span>  <span class="va">price_draws</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"Distribution of Price Parameter Draws"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Price Coefficient"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="priors_files/figure-html/unnamed-chunk-15-1.png" alt="Histogram showing the distribution of price parameter draws. The distribution appears roughly normal, centered around -0.25, with values ranging from approximately -0.5 to 0, indicating negative price sensitivity as expected." width="576"></p>
</div>
<div class="section level2">
<h2 id="common-pitfalls">Common Pitfalls<a class="anchor" aria-label="anchor" href="#common-pitfalls"></a>
</h2>
<div class="section level3">
<h3 id="mismatched-scales">Mismatched Scales<a class="anchor" aria-label="anchor" href="#mismatched-scales"></a>
</h3>
<p>Ensure prior magnitudes match your attribute scales:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Problem: Price in dollars, prior assumes price in cents</span></span>
<span><span class="va">profiles_dollars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_profiles.html">cbc_profiles</a></span><span class="op">(</span>price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.00</span>, <span class="fl">2.00</span>, <span class="fl">3.00</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="va">priors_cents</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span><span class="va">profiles_dollars</span>, price <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, <span class="va">...</span><span class="op">)</span> <span class="co"># Too large!</span></span>
<span></span>
<span><span class="co"># Solution: Match scales</span></span>
<span><span class="va">priors_dollars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span><span class="va">profiles_dollars</span>, price <span class="op">=</span> <span class="op">-</span><span class="fl">0.10</span>, <span class="va">...</span><span class="op">)</span> <span class="co"># Appropriate</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="wrong-reference-levels">Wrong Reference Levels<a class="anchor" aria-label="anchor" href="#wrong-reference-levels"></a>
</h3>
<p>Remember the first level is always the reference:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If you want "Excellent" as reference, reorder profiles</span></span>
<span><span class="va">profiles_reordered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_profiles.html">cbc_profiles</a></span><span class="op">(</span></span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">2.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Fuji'</span>, <span class="st">'Gala'</span>, <span class="st">'Honeycrisp'</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Excellent'</span>, <span class="st">'Average'</span>, <span class="st">'Poor'</span><span class="op">)</span> <span class="co"># Excellent now reference</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">priors_reordered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span></span>
<span>  <span class="va">profiles_reordered</span>,</span>
<span>  price <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.1</span>, <span class="op">-</span><span class="fl">0.2</span><span class="op">)</span> <span class="co"># Negative = worse than excellent</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="incompatible-restrictions">Incompatible Restrictions<a class="anchor" aria-label="anchor" href="#incompatible-restrictions"></a>
</h3>
<p>Ensure your priors are compatible with restricted profiles:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If you've restricted certain profile combinations,</span></span>
<span><span class="co"># make sure your priors don't assume those combinations are common</span></span>
<span><span class="va">restricted_profiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_restrict.html">cbc_restrict</a></span><span class="op">(</span></span>
<span>  <span class="va">profiles</span>,</span>
<span>  <span class="va">type</span> <span class="op">==</span> <span class="st">"Fuji"</span> <span class="op">&amp;</span> <span class="va">price</span> <span class="op">&gt;</span> <span class="fl">2.5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Prior should reflect that expensive Fuji combinations don't exist</span></span>
<span><span class="va">priors_compatible</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbc_priors.html">cbc_priors</a></span><span class="op">(</span><span class="va">restricted_profiles</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using-priors-in-practice">Using Priors in Practice<a class="anchor" aria-label="anchor" href="#using-priors-in-practice"></a>
</h2>
<p>Once created, priors are used in:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Design optimization</strong>: Pass to
<code><a href="../reference/cbc_design.html">cbc_design()</a></code> for D-optimal methods. See the <a href="design.html">Generating Designs</a> article for more details.</li>
<li>
<strong>Choice simulation</strong>: Pass to
<code><a href="../reference/cbc_choices.html">cbc_choices()</a></code> for realistic choice patterns. See the <a href="choices.html">Simulating Choices</a> article for more
details.</li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Helveston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
