<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Make a choice-based conjoint survey design — cbc_design • cbcTools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Make a choice-based conjoint survey design — cbc_design"><meta property="og:description" content='This function creates a data frame containing a choice-based conjoint survey
design where each row is an alternative. Generate a variety of survey
designs, including full factorial designs, orthogonal designs, and Bayesian
D-efficient designs as well as designs with "no choice" options and "labeled"
(also known as "alternative specific") designs.'><meta property="og:image" content="https://jhelvy.github.io/cbcTools/reference/figures/logo.png"><meta property="og:image:alt" content="Logo for the cbcTools package"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@JohnHelveston"><meta name="twitter:site" content="@JohnHelveston"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cbcTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/usage.html">Usage</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jhelvy/cbcTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make a choice-based conjoint survey design</h1>
    <small class="dont-index">Source: <a href="https://github.com/jhelvy/cbcTools/blob/HEAD/R/design.R" class="external-link"><code>R/design.R</code></a></small>
    <div class="hidden name"><code>cbc_design.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates a data frame containing a choice-based conjoint survey
design where each row is an alternative. Generate a variety of survey
designs, including full factorial designs, orthogonal designs, and Bayesian
D-efficient designs as well as designs with "no choice" options and "labeled"
(also known as "alternative specific") designs.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cbc_design</span><span class="op">(</span></span>
<span>  <span class="va">profiles</span>,</span>
<span>  <span class="va">n_resp</span>,</span>
<span>  <span class="va">n_alts</span>,</span>
<span>  <span class="va">n_q</span>,</span>
<span>  n_blocks <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  n_draws <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  n_start <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  no_choice <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  priors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_no_choice <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  probs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_d_eff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_db_error <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>profiles</dt>
<dd><p>A data frame in which each row is a possible profile. This
can be generated using the <code><a href="cbc_profiles.html">cbc_profiles()</a></code> function.</p></dd>


<dt>n_resp</dt>
<dd><p>Number of survey respondents.</p></dd>


<dt>n_alts</dt>
<dd><p>Number of alternatives per choice question.</p></dd>


<dt>n_q</dt>
<dd><p>Number of questions per respondent.</p></dd>


<dt>n_blocks</dt>
<dd><p>Number of blocks used in Orthogonal or Bayesian D-efficient
designs. Max allowable is one block per respondent. Defaults to <code>1</code>,
meaning every respondent sees the same choice set.</p></dd>


<dt>n_draws</dt>
<dd><p>Number of draws used in simulating the prior distribution used
in Bayesian D-efficient designs. Defaults to <code>50</code>.</p></dd>


<dt>n_start</dt>
<dd><p>A numeric value indicating the number of random start designs
to use in obtaining a Bayesian D-efficient design. The default is <code>5</code>.
Increasing <code>n_start</code> can result in a more efficient design at the expense
of increased computational time.</p></dd>


<dt>no_choice</dt>
<dd><p>Include a "no choice" option in the choice sets? Defaults to
<code>FALSE</code>. If <code>TRUE</code>, the total number of alternatives per question will be
one more than the provided <code>n_alts</code> argument.</p></dd>


<dt>label</dt>
<dd><p>The name of the variable to use in a "labeled" design (also
called an "alternative-specific design") such that each set of alternatives
contains one of each of the levels in the <code>label</code> attribute. Currently not
compatible with Bayesian D-efficient designs. If used, the <code>n_alts</code>
argument will be ignored as its value is defined by the unique number of
levels in the <code>label</code> variable. Defaults to <code>NULL</code>.</p></dd>


<dt>method</dt>
<dd><p>Choose the design method to use: <code>"random"</code>, <code>"full"</code>,
<code>"orthogonal"</code>, <code>"dopt"</code>, <code>"CEA"</code>, or <code>"Modfed"</code>. Defaults to <code>"random"</code>.
See details below for complete description of each method.</p></dd>


<dt>priors</dt>
<dd><p>A list of one or more assumed prior parameters used to generate
a Bayesian D-efficient design. Defaults to <code>NULL</code></p></dd>


<dt>prior_no_choice</dt>
<dd><p>Prior utility value for the "no choice" alternative.
Only required if <code>no_choice = TRUE</code>. Defaults to <code>NULL</code>.</p></dd>


<dt>probs</dt>
<dd><p>If <code>TRUE</code>, for Bayesian D-efficient designs the resulting design
includes average predicted probabilities for each alternative in each
choice set given the sample from the prior preference distribution.
Defaults to <code>FALSE</code>.'</p></dd>


<dt>keep_d_eff</dt>
<dd><p>If <code>TRUE</code>, for D-optimal designs (<code>method = "dopt"</code>) the
returned object will be a list containing the design and the D-efficiency
score. Defaults to <code>FALSE</code>.</p></dd>


<dt>keep_db_error</dt>
<dd><p>If <code>TRUE</code>, for Bayesian D-efficient designs the
returned object will be a list containing the design and the DB-error
score. Defaults to <code>FALSE</code>.</p></dd>


<dt>max_iter</dt>
<dd><p>A numeric value indicating the maximum number allowed
iterations when searching for a Bayesian D-efficient design. The default is
50.</p></dd>


<dt>parallel</dt>
<dd><p>Logical value indicating whether computations should be done
over multiple cores. The default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The returned <code>design</code> data frame contains a choice-based conjoint
survey design where each row is an alternative. It includes the following
columns:</p><ul><li><p><code>profileID</code>: Identifies the profile in <code>profiles</code>.</p></li>
<li><p><code>respID</code>: Identifies each survey respondent.</p></li>
<li><p><code>qID</code>: Identifies the choice question answered by the respondent.</p></li>
<li><p><code>altID</code>:Identifies the alternative in any one choice observation.</p></li>
<li><p><code>obsID</code>: Identifies each unique choice observation across all respondents.</p></li>
<li><p><code>blockID</code>: If blocking is used, identifies each unique block.</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>method</code> argument determines the design method used. Options
are:</p><ul><li><p><code>"random"</code></p></li>
<li><p><code>"full"</code></p></li>
<li><p><code>"orthogonal"</code></p></li>
<li><p><code>"dopt"</code></p></li>
<li><p><code>"CEA"</code></p></li>
<li><p><code>"Modfed"</code></p>
<p>All methods ensure that the two following criteria are met:</p><ol><li><p>No two profiles are the same within any one choice set.</p></li>
<li><p>No two choice sets are the same within any one respondent.</p></li>
</ol><p>The table below summarizes method compatibility with other design options,
including the ability to include a "no choice" option, the creation of a
"labeled" design (also called a "alternative-specific" design), the use
of restricted profile, and the use of blocking.</p><table class="table table"><tr><td>Method</td><td>Include "no choice"?</td><td>Labeled designs?</td><td>Restricted profiles?</td><td>Blocking?</td></tr><tr><td><code>"random"</code></td><td>Yes</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td><code>"full"</code></td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td><code>"orthogonal"</code></td><td>Yes</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td><code>"dopt"</code></td><td>Yes</td><td>No</td><td>Yes</td><td>Yes</td></tr><tr><td><code>"CEA"</code></td><td>Yes</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td><code>"Modfed"</code></td><td>Yes</td><td>No</td><td>Yes</td><td>Yes</td></tr></table><p>The <code>"random"</code> method (the default) creates a design where choice sets are
created by randomly sampling from the full set of <code>profiles</code> *with
*replacement. This means that few (if any) respondents will see the same
sets of choice sets. This method is less efficient than other approaches
and may lead to a deficient experiment in smaller sample sizes, though it
guarantees equal ability to estimate main and interaction effects.</p>
<p>The <code>"full"</code> method for ("full factorial") creates a design where choice
sets are created by randomly sampling from the full set of <code>profiles</code>
<em>without replacement</em>. The choice sets are then repeated to meet the
desired number of survey respondents (determined by <code>n_resp</code>). If blocking
is used, choice set blocks are created using mutually exclusive subsets of
<code>profiles</code> within each block. This method produces a design with similar
performance with that of the <code>"random"</code> method, except the choice sets are
repeated and thus there will be many more opportunities for different
respondents to see the same choice sets. This method is less efficient than
other approaches and may lead to a deficient experiment in smaller sample
sizes, though it guarantees equal ability to estimate main and interaction
effects. For more information about blocking with full factorial designs,
see <code><a href="https://rdrr.io/pkg/DoE.base/man/fac.design.html" class="external-link">?DoE.base::fac.design</a></code> as well as the JSS article on the DoE.base
package (Grömping, 2018).</p>
<p>The <code>"orthogonal"</code> method creates a design where an orthogonal array from
the full set of <code>profiles</code> is found and then choice sets are created by
randomly sampling from this orthogonal array <em>without replacement</em>. The
choice sets are then repeated to meet the desired number of survey
respondents (determined by <code>n_resp</code>). If blocking is used, choice set
blocks are created using mutually exclusive subsets of the orthogonal array
within each block. For cases where an orthogonal array cannot be found, a
full factorial design is used. This approach is also sometimes called a
"main effects" design since orthogonal arrays focus the information on the
main effects at the expense of information about interaction effects. For
more information about orthogonal designs, see <code><a href="https://rdrr.io/pkg/DoE.base/man/oa.design.html" class="external-link">?DoE.base::oa.design</a></code> as
well as the JSS article on the DoE.base package (Grömping, 2018).</p>
<p>The <code>"dopt"</code> method creates a "D-optimal" design where an array from
<code>profiles</code> is found that maximizes the D-efficiency of a linear model
using the Federov algorithm, with the total number of unique choice sets
determined by <code>n_q*n_blocks</code>. Choice sets are then created by randomly
sampling from this array <em>without replacement</em>. The choice sets are then
repeated to meet the desired number of survey respondents (determined by
<code>n_resp</code>). If blocking is used, choice set blocks are created from the
D-optimal array. For more information about the underlying algorithm
for this method, see <code><a href="https://rdrr.io/pkg/AlgDesign/man/Federov.html" class="external-link">?AlgDesign::optFederov</a></code>.</p>
<p>The <code>"CEA"</code> and <code>"Modfed"</code> methods use the specified <code>priors</code> to create a
Bayesian D-efficient design for the choice sets, with the total number of
unique choice sets determined by <code>n_q*n_blocks</code>. The choice sets are then
repeated to meet the desired number of survey respondents (determined by
<code>n_resp</code>). If <code>"CEA"</code> or <code>"Modfed"</code> is used without specifying <code>priors</code>, a
prior of all <code>0</code>s will be used and a warning message stating this will be
shown. In the opposite case, if <code>priors</code> are specified but neither Bayesian
method is used, the <code>"CEA"</code> method will be used and a warning stating this
will be shown. Restricted sets of <code>profiles</code> can only be used with
<code>"Modfed"</code>. For more details on Bayesian D-efficient designs, see
<code><a href="https://rdrr.io/pkg/idefix/man/CEA.html" class="external-link">?idefix::CEA</a></code> and <code><a href="https://rdrr.io/pkg/idefix/man/Modfed.html" class="external-link">?idefix::Modfed</a></code> as well as the JSS article on the
idefix package (Traets et al, 2020).</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Grömping, U. (2018). R Package DoE.base for Factorial Experiments. Journal of Statistical Software, 85(5), 1–41
<a href="https://doi.org/10.18637/jss.v085.i05" class="external-link">doi:10.18637/jss.v085.i05</a></p>
<p>Traets, F., Sanchez, D. G., &amp; Vandebroek, M. (2020). Generating Optimal Designs for Discrete Choice Experiments in R: The idefix Package. Journal of Statistical Software, 96(3), 1–41,
<a href="https://doi.org/10.18637/jss.v096.i03" class="external-link">doi:10.18637/jss.v096.i03</a></p>
<p>Wheeler B (2022)._AlgDesign: Algorithmic Experimental Design. R package version 1.2.1,
<a href="https://CRAN.R-project.org/package=AlgDesign" class="external-link">https://CRAN.R-project.org/package=AlgDesign</a>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jhelvy/cbcTools" class="external-link">cbcTools</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A simple conjoint experiment about apples</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate all possible profiles</span></span></span>
<span class="r-in"><span><span class="va">profiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="cbc_profiles.html">cbc_profiles</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  price     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">2.5</span>, <span class="fl">3</span>, <span class="fl">3.5</span>, <span class="fl">4</span>, <span class="fl">4.5</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  type      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fuji"</span>, <span class="st">"Gala"</span>, <span class="st">"Honeycrisp"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Poor'</span>, <span class="st">'Average'</span>, <span class="st">'Excellent'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a survey by randomly sampling from all possible profiles</span></span></span>
<span class="r-in"><span><span class="co"># (This is the default setting where method = 'random')</span></span></span>
<span class="r-in"><span><span class="va">design_random</span> <span class="op">&lt;-</span> <span class="fu">cbc_design</span><span class="op">(</span></span></span>
<span class="r-in"><span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span></span>
<span class="r-in"><span>  n_resp   <span class="op">=</span> <span class="fl">100</span>, <span class="co"># Number of respondents</span></span></span>
<span class="r-in"><span>  n_alts   <span class="op">=</span> <span class="fl">3</span>,   <span class="co"># Number of alternatives per question</span></span></span>
<span class="r-in"><span>  n_q      <span class="op">=</span> <span class="fl">6</span>    <span class="co"># Number of questions per respondent</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a survey using a full factorial design and include a "no choice" option</span></span></span>
<span class="r-in"><span><span class="va">design_full</span> <span class="op">&lt;-</span> <span class="fu">cbc_design</span><span class="op">(</span></span></span>
<span class="r-in"><span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span></span>
<span class="r-in"><span>  n_resp   <span class="op">=</span> <span class="fl">100</span>, <span class="co"># Number of respondents</span></span></span>
<span class="r-in"><span>  n_alts   <span class="op">=</span> <span class="fl">3</span>,   <span class="co"># Number of alternatives per question</span></span></span>
<span class="r-in"><span>  n_q      <span class="op">=</span> <span class="fl">6</span>,   <span class="co"># Number of questions per respondent</span></span></span>
<span class="r-in"><span>  method   <span class="op">=</span> <span class="st">'full'</span>, <span class="co"># Change this to use a different method, e.g. 'orthogonal', or 'dopt'</span></span></span>
<span class="r-in"><span>  no_choice <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a survey by randomly sampling from all possible profiles</span></span></span>
<span class="r-in"><span><span class="co"># with each level of the "type" attribute appearing as an alternative</span></span></span>
<span class="r-in"><span><span class="va">design_random_labeled</span> <span class="op">&lt;-</span> <span class="fu">cbc_design</span><span class="op">(</span></span></span>
<span class="r-in"><span>  profiles <span class="op">=</span> <span class="va">profiles</span>,</span></span>
<span class="r-in"><span>  n_resp   <span class="op">=</span> <span class="fl">100</span>, <span class="co"># Number of respondents</span></span></span>
<span class="r-in"><span>  n_alts   <span class="op">=</span> <span class="fl">3</span>,   <span class="co"># Number of alternatives per question</span></span></span>
<span class="r-in"><span>  n_q      <span class="op">=</span> <span class="fl">6</span>,   <span class="co"># Number of questions per respondent</span></span></span>
<span class="r-in"><span>  label    <span class="op">=</span> <span class="st">"type"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a Bayesian D-efficient design with a prior model specified</span></span></span>
<span class="r-in"><span><span class="co"># Note that by speed can be improved by setting parallel = TRUE</span></span></span>
<span class="r-in"><span><span class="va">design_bayesian</span> <span class="op">&lt;-</span> <span class="fu">cbc_design</span><span class="op">(</span></span></span>
<span class="r-in"><span>    profiles  <span class="op">=</span> <span class="va">profiles</span>,</span></span>
<span class="r-in"><span>    n_resp    <span class="op">=</span> <span class="fl">100</span>, <span class="co"># Number of respondents</span></span></span>
<span class="r-in"><span>    n_alts    <span class="op">=</span> <span class="fl">3</span>,   <span class="co"># Number of alternatives per question</span></span></span>
<span class="r-in"><span>    n_q       <span class="op">=</span> <span class="fl">6</span>,   <span class="co"># Number of questions per respondent</span></span></span>
<span class="r-in"><span>    n_start   <span class="op">=</span> <span class="fl">1</span>,   <span class="co"># Defaults to 5, set to 1 here for a quick example</span></span></span>
<span class="r-in"><span>    priors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        price     <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>        type      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        freshness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    method <span class="op">=</span> <span class="st">"CEA"</span>,</span></span>
<span class="r-in"><span>    parallel <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Bayesian D-efficient design found with DB-error of 1.32865</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Helveston.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

